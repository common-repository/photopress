!function(e){function t(a){if(n[a])return n[a].exports;var i=n[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t){e.exports=wp.components},function(e,t){e.exports=wp.element},function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){var t=this,n=!0;if(this.state.dirtyFields.length>0&&(this.state.dirtyFields.map(function(e,a){var i=void 0;t.settingsSchema.hasOwnProperty(e)&&t.settingsSchema[e].validations.length>0&&t.settingsSchema[e].validations.map(function(a){i=r(t.getSetting(e),a.type),i?t.setError(a.errorSection,null):(n=!1,t.setError(a.errorSection,a.errorMsg))})}),n)){this.setState({isAPISaving:!0});var i=this.props.settingsGroup;new wp.api.models.Settings(a({},i,this.state.settings)).save().then(function(e){var n=h({},t.state.settings,e[i]);t.setState({settings:n,isAPISaving:!1,dirtyFields:[]})})}}function o(e,t){if("string"===t){return e.trim()+""}return e}function r(e,t){if("url"===t){console.log("validating url",e);return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}if("notEmpty"===t){e=e.trim();return e.length>0}}function s(e){if(this.state.hasOwnProperty("settings")&&this.state.settings.hasOwnProperty(e))return this.state.settings[e]}function l(e,t,n){var i=this,o=this.state.dirtyFields;o.push(e);var r=h({},this.state.settings,a({},e,t));n?this.setState({settings:r,dirtyFields:o},function(){return i.saveSettings()}):this.setState({settings:r,dirtyFields:o})}function c(e,t){this.setSetting(e,t,!0)}function m(e,t,n,i){if(this.state.hasOwnProperty("settings")&&this.state.settings.hasOwnProperty(n)){var o=this.state[group][n];subkey&&this.state[group][n].hasOwnProperty(i)?delete o[n][subkey]:delete o[n],this.setState({settings:h({},this.state.settings,a({},""+n,o))})}}function p(e){if(this.state.errors.hasOwnProperty(e))return this.state.errors[e]}function u(e,t){this.setState({errors:h({},this.state.errors,a({},""+e,t))})}t.f=i,t.e=o,t.c=s,t.h=l,t.d=c,t.a=m,t.b=p,t.g=u;var h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),s=(n.n(r),n(4)),l=n(6),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),__=wp.i18n.__,m=wp.components,p=(m.BaseControl,m.Button),u=(m.ExternalLink,m.PanelBody),h=(m.PanelRow,m.Placeholder),d=m.Spinner,g=(m.ToggleControl,wp.element),f=g.render,x=g.Component,b=g.Fragment,w=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));e.settingsModules={};for(var n=JSON.parse(e.props.modules),o=Object.keys(n),r=0;r<o.length;r++){var s="photopress_core_"+o[r],l=n[o[r]].label;l&&(e.settingsModules[s]={label:l})}return e.state={isAPILoaded:!1,isAPISaving:!1},e}return o(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this;wp.api.loadPromise.then(function(){e.settings=new wp.api.models.Settings,!1===e.state.isAPILoaded&&e.settings.fetch().then(function(t){e.setState({photopress_core_metadata:t.photopress_core_metadata,photopress_core_slideshow:t.photopress_core_slideshow,photopress_core_base:t.photopress_core_base,isAPILoaded:!0})})})}},{key:"getSettingsModuleNames",value:function(){return Object.keys(this.settingsModules)}},{key:"generateNavTabs",value:function(){var e=this,t=this.getSettingsModuleNames(),n=[];return t.map(function(t,a){n.push({name:t,title:e.settingsModules[t].label,className:"tab-one"})}),n}},{key:"packageModuleKey",value:function(e){return"photopress_core_"+e}},{key:"render",value:function(){var e=this;if(!this.state.isAPILoaded)return wp.element.createElement(h,null,wp.element.createElement(d,null));var t=this.state.photopress_core_slideshow,n=(t.thumbnailHeight,t.enable,this.state.photopress_core_metadata),a=(n.custom_taxonomies,n.default_taxonomies,function(){return wp.element.createElement(s.a,{key:"metadataoptionspage'",data:e.state.photopress_core_metadata,settingsGroup:"photopress_core_metadata"})}),i=function(){return wp.element.createElement(l.a,{key:"slideshowoptionspage'",data:e.state.photopress_core_slideshow,settingsGroup:"photopress_core_slideshow"})},o=function(e){var t=function(){};switch(window.location.hash?window.location.hash.substring(1):e.name){case"photopress_core_metadata":t=a;break;case"photopress_core_slideshow":t=i}return t()},c=photopress_options_conf.plugin_url+"/static/images/logo-200w.png";return wp.element.createElement(b,null,wp.element.createElement("div",{className:"photopress-options-container"},wp.element.createElement("div",{className:"masthead row"},wp.element.createElement("div",{className:"masthead-container"},wp.element.createElement("div",{className:"logo"},wp.element.createElement("h1",null,wp.element.createElement("img",{src:c,alt:__("PhotoPress")}))))),wp.element.createElement("div",{className:"settings row"},wp.element.createElement(r.TabPanel,{className:"tab-navigation row",activeClass:"active-tab",initialTabName:window.location.hash.substring(1)||null,onSelect:function(e){window.location.hash=e},tabs:this.generateNavTabs()},function(e){return o(e)}),wp.element.createElement(u,null,wp.element.createElement("div",{className:"photopress-options-info"},wp.element.createElement("h2",null,__("Got a question? Found a bug?")),wp.element.createElement("p",null,__("Visit us on Github if you need any help.")),wp.element.createElement("div",{className:"photopress-info-button-group"},wp.element.createElement(p,{isSecondary:!0,className:"right-pad",target:"_blank",href:"https://github.com/photopress-dev/photopress-plugin/issues"},__("Submit a question / bug")),wp.element.createElement(p,{isSecondary:!0,target:"_blank",href:"https://github.com/photopress-dev/photopress-plugin/wiki"},__("Documentation"))))))))}}]),t}(x);document.getElementById("photopress-core-options")&&f(wp.element.createElement(w,{modules:document.querySelector("#photopress-core-options").dataset.modules}),document.getElementById("photopress-core-options"))},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(1),s=(n.n(r),n(5)),l=n(0),c=(n.n(l),n(2)),m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),__=wp.i18n.__,u=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.settingsGroup=e.props.settingsGroup,e.xmpLabels=s.a,e.persistSetting=c.d.bind(e),e.saveSettings=c.f.bind(e),e.getSetting=c.c.bind(e),e.setSetting=c.h.bind(e),e.deleteSetting=c.a.bind(e),e.getError=c.b.bind(e),e.setError=c.g.bind(e),e.deleteCustomTaxonomy=e.deleteCustomTaxonomy.bind(e),e.addNewTaxonomy=e.addNewTaxonomy.bind(e),e.newTaxValueChange=e.newTaxValueChange.bind(e),e.MyModal=e.MyModal.bind(e),e.state={isAPILoaded:!1,isAPISaving:!1,errors:{},settings:{custom_taxonomies_enable:!0,embed_licensor_enable:!1,web_statement_of_rights:"",licensor_name:"",licensor_url:"",custom_taxonomies:[],custom_taxonomies_tag_delimiter:":",alt_text_enable:!0,alt_text_template:"[photoshop:Headline]. [photopress:stringOfKeywords].",strip_metadata_from_resized_image:!1},isNewTaxPresent:!1,modalOpen:!1,newTaxDefinition:{id:"",pluralLabel:"",singularLabel:"",tag:"",parseTagValue:!1},dirtyFields:[]},e.state.settings=m({},e.state.settings,e.props.data),e.settingsSchema={web_statement_of_rights:{type:"url",validations:[{type:"url",errorSection:"licensor",errorMsg:"Web Statement of Rights URL is not a valid url. Be sure the URL begins with http:// or https:// ."}]},licensor_url:{type:"url",validations:[{type:"url",errorSection:"licensor",errorMsg:"Licensor URL is not a valid url. Be sure the URL begins with http:// or https:// ."}]}},e}return o(t,e),p(t,[{key:"componentDidMount",value:function(){}},{key:"addNewTaxonomy",value:function(e){var t=this.state.newTaxDefinition.pluralLabel,n=this.state.dirtyFields;t||this.setError("custom_taxonomies",__("Taxonomy name cannot be empty")),"string"==typeof t&&(t=t.trim());var a=this.state.settings.custom_taxonomies;a.map(function(e){return e.plural}).includes(t)||(a.push(this.state.newTaxDefinition),n.push("custom_taxonomies")),this.setState({settings:m({},this.state.settings,{custom_taxonomies:a}),dirtyFields:n,newTaxDefinition:{id:"",puralLabel:"",singularLabel:"",xmpTag:"",parseXmpTag:!1},modalOpen:!1},this.saveSettings)}},{key:"deleteCustomTaxonomy",value:function(e){var t=this.state.settings.custom_taxonomies,n=e.target.id;console.log(n),n>-1&&t.splice(n,1),this.setSetting("custom_taxonomies",t,!0)}},{key:"newTaxValueChange",value:function(e,t){var n=(this.state.newTaxDefinition,{});"singularLabel"===e&&(n.id="pp_"+t.replace(/\s+/g,"_")),n[e]=t,this.setState({newTaxDefinition:m({},this.state.newTaxDefinition,n)},this.setNewTaxPresent)}},{key:"setNewTaxPresent",value:function(){var e=this.state.isNewTaxPresent,t=this.state.newTaxDefinition;t.id.length>1&&t.pluralLabel.length>1&&t.singularLabel.length>1&&t.tag.length>1&&(e=!0),this.setState({isNewTaxPresent:e})}},{key:"getXmpLabels",value:function(){var e=this,t=[{value:null,label:"Select..."}];return Object.keys(this.xmpLabels).map(function(n,a){var i=e.xmpLabels[n];t.push({value:n,label:n+" \xa0 - \xa0  ("+i+")"})}),t}},{key:"MyModal",value:function(){var e=this,t=this.state.modalOpen,n=function(){return e.setState({modalOpen:!0})},a=function(){return e.setState({modalOpen:!1})};return wp.element.createElement("div",null,wp.element.createElement(l.Button,{isPrimary:!0,onClick:n},"Add New"),t&&wp.element.createElement(l.Modal,{title:"Add Image Taxonomy",onRequestClose:a},wp.element.createElement("div",{key:"add-new-tax-definition",className:"new-taxonomy-control"},wp.element.createElement("div",{className:"taxonomy_attr"},wp.element.createElement(l.TextControl,{label:__("Singular Label"),id:"new-taxonomy-singular",placeholder:__("e.g. Car"),className:"right-pad",onChange:function(t){return e.newTaxValueChange("singularLabel",t)},help:""})),wp.element.createElement("div",{className:"taxonomy_attr"},wp.element.createElement(l.TextControl,{label:__("Plural Label"),id:"new-taxonomy-plural",className:"right-pad",placeholder:"e.g. Cars",onChange:function(t){return e.newTaxValueChange("pluralLabel",t)},help:""})),wp.element.createElement("div",{className:"taxonomy_attr"},wp.element.createElement(l.SelectControl,{id:"new-taxonomy-tag",label:"XMP Tag",options:this.getXmpLabels(),className:"right-pad",onChange:function(t){return e.newTaxValueChange("tag",t)},help:"The embedded meta-data tag to extract."}),wp.element.createElement(l.ExternalLink,{href:"#"},__("Read about XMP Tags"))),wp.element.createElement("div",{className:"taxonomy_attr"},wp.element.createElement(l.CheckboxControl,{label:"Child Taxonomy",id:"new-taxonomy-parse-xmp-tag",defaultChecked:!1,onChange:function(t){return e.newTaxValueChange("parseTagValue",t)},help:'e.g. "Parse people:Elon Musk from dc:subjects"'})),wp.element.createElement("div",{className:"taxonomy_attr"},wp.element.createElement(l.Button,{className:"right-pad",isPrimary:!0,disabled:this.state.isAPISaving||!this.state.isNewTaxPresent,onClick:this.addNewTaxonomy},__("Save")),wp.element.createElement(l.Button,{isSecondary:!0,onClick:a},"Cancel")))))}},{key:"render",value:function(){var e=this,t=[],n=function(){return wp.element.createElement(l.BaseControl,{label:__(""),help:"",id:"'custom_taxonomies_enable'",className:"codeinwp-text-field"},e.getError("custom_taxonomies")&&wp.element.createElement(l.Notice,{status:"error"},wp.element.createElement("p",null,"An error occurred: ",wp.element.createElement("code",null,e.getError("custom_taxonomies")),".")),wp.element.createElement(l.ToggleControl,{id:"custom_taxonomies_enable",label:__("Extract embedded image meta data."),help:"Stores embedded image meta-data into custom taxonomies that you define.",checked:e.getSetting("custom_taxonomies_enable")||!1,onChange:function(t){return e.persistSetting("custom_taxonomies_enable",t)}}))},a=function(){return wp.element.createElement(l.BaseControl,{label:__("Taxonomy Definitions"),className:"codeinwp-text-field",help:'The list of taxononomies currently defined. To edit a taxonomy definition you must delete it and then re-add using the "Add New" button'},e.MyModal(),e.getSetting("custom_taxonomies")&&e.getSetting("custom_taxonomies").map(function(t,n){var a=n+1;return wp.element.createElement("div",{className:"taxonomy_control",key:n},wp.element.createElement("div",{className:"taxonomy_attr"},wp.element.createElement("div",{className:"components-base-control__field"},wp.element.createElement("label",{htmlFor:n},a+"."))),wp.element.createElement("div",{className:"taxonomy_attr placeholder-small"},wp.element.createElement(l.TextControl,{label:__("ID"),value:""+t.id,className:"right-pad",readOnly:!0})),wp.element.createElement("div",{className:"taxonomy_attr placeholder-small"},wp.element.createElement(l.TextControl,{label:__("Singular Label"),value:""+t.singularLabel,className:"right-pad",readOnly:!0})),wp.element.createElement("div",{className:"taxonomy_attr placeholder-small"},wp.element.createElement(l.TextControl,{label:__("Plural Label"),value:""+t.pluralLabel,className:" right-pad",readOnly:!0})),wp.element.createElement("div",{className:"taxonomy_attr"},wp.element.createElement(l.TextControl,{label:__("XMP Tag"),value:""+t.tag,className:"right-pad",readOnly:!0})),wp.element.createElement("div",{className:"taxonomy_attr placeholder-tiny"},wp.element.createElement(l.TextControl,{label:__("Child Taxonomy?"),value:""+t.parseTagValue,className:" right-pad",readOnly:!0})),wp.element.createElement("div",{className:"taxonomy_attr"},wp.element.createElement(l.Button,{isPrimary:!0,id:n,disabled:e.state.isAPISaving,onClick:e.deleteCustomTaxonomy,className:"components-base-control__field"},__("Delete"))))}))},i=function(){return wp.element.createElement("div",null,wp.element.createElement(l.BaseControl,{label:__("Child Taxonomy Delimiter"),help:'The default delimiter is the ":" (semicolon) character. Only change this if you know what you are doing. This delimiter is used to parse child taxonomies from within other meta-data values. e.g. "person:elon musk" would store the term "Elon Musk" into the "person" taxonomy. Child taxonomies are typically parsed from keyword values contained in dc:subject XMP tag.',id:"'custom_taxonomies_enable'",className:"codeinwp-text-field"},wp.element.createElement(l.TextControl,{id:"custom_taxonomies_tag_delimiter",label:__(""),value:e.getSetting("custom_taxonomies_tag_delimiter"),className:"tiny-input right-pad",length:5,onChange:function(t){return e.setSetting("custom_taxonomies_tag_delimiter",t)},onBlur:function(t){return e.setSetting("custom_taxonomies_tag_delimiter",Object(c.e)(t.target.value,"string"))}})),wp.element.createElement(l.Button,{isPrimary:!0,disabled:e.state.isAPISaving,onClick:e.saveSettings,className:"components-base-control__field"},__("Save")))};return t.push(n,a,i),wp.element.createElement(r.Fragment,null,wp.element.createElement(l.PanelBody,{title:__("Custom Taxonomies")},t.map(function(e,t){var n=e();return wp.element.createElement(l.PanelRow,{key:"component-"+t},n)})),wp.element.createElement(l.PanelBody,{title:__("Alt Text")},wp.element.createElement(l.BaseControl,{label:__("")},wp.element.createElement(l.ToggleControl,{id:"alt_text_enable",label:__("Use Meta-data for alt text of images."),help:"Populate the alternate text attribute with the value of a meta-data field.",checked:this.getSetting("alt_text_enable"),onChange:function(t){return e.persistSetting("alt_text_enable",t)}}),wp.element.createElement(l.TextControl,{id:"alt_text_template",label:__("Alt Text Template"),value:this.getSetting("alt_text_template"),className:"small-input right-pad",help:"The template to use for populating alt text. Meta-data placeholders should be surounded by square brackets (i.e. [photoshop:Headline]",onChange:function(t){return e.setSetting("alt_text_template",t)},onBlur:function(t){return e.setSetting("alt_text_template",Object(c.e)(t.target.value,"string"))}}),wp.element.createElement(l.Button,{isPrimary:!0,disabled:this.state.isAPISaving,onClick:this.saveSettings,className:"components-base-control__field"},__("Save")))),wp.element.createElement(l.PanelBody,{title:__("Licensing")},wp.element.createElement(l.BaseControl,{label:__("")},this.getError("licensor")&&wp.element.createElement(l.Notice,{status:"error",isDismissible:!1},wp.element.createElement("p",null,wp.element.createElement("b",null,"An error occured:")," ",wp.element.createElement("code",null,this.getError("licensor")))),wp.element.createElement(l.TextControl,{id:"licensor_name",label:__("Licensor Name"),value:this.getSetting("licensor_name"),className:" right-pad",help:"The name of the person or organization that licenses your images.",onChange:function(t){return e.setSetting("licensor_name",t)},onBlur:function(t){return e.setSetting("licensor_name",Object(c.e)(t.target.value,"string"))}}),wp.element.createElement(l.TextControl,{id:"web_statement_of_rights",label:__("Web Statement of Rights URL"),value:this.getSetting("web_statement_of_rights"),className:" right-pad",help:"Used by search engines to display a link to the license statement of your images.",onChange:function(t){return e.setSetting("web_statement_of_rights",t.trim())}}),wp.element.createElement(l.TextControl,{id:"licensor_url",label:__("Licensing URL"),value:this.getSetting("licensor_url"),className:" right-pad",help:"The URL where people can obtain a license your images.",onChange:function(t){return e.setSetting("licensor_url",t.trim())}}),wp.element.createElement(l.Button,{isPrimary:!0,disabled:this.state.isAPISaving,onClick:this.saveSettings,className:"components-base-control__field"},__("Save")),wp.element.createElement("hr",null),wp.element.createElement(l.ToggleControl,{id:"embed_licensor_enable",label:__("Embed licensing meta-data in images "),help:"Embeds licensing related meta-data (Licensor Name, Licensor URL, Web Statement of Rights, etc.) in image file during upload if they do not already exist. Requires exiftool to be installed on your server.",checked:this.getSetting("embed_licensor_enable"),onChange:function(t){return e.persistSetting("embed_licensor_enable",t)}}))))}}]),t}(r.Component);t.a=u},function(e,t,n){"use strict";var a={"aux:Lens":"Lens","dc:contributor":"Other Contributor(s)","dc:coverage":"Coverage (scope)","dc:creator":"Creator/Author","dc:date":"Date","dc:description":"Caption","dc:format":"MIME Data Format","dc:identifier":"Unique Resource Identifer","dc:language":"Language(s)","dc:publisher":"Publisher(s)","dc:relation":"Relations to other documents","dc:rights":"Rights Statement","dc:source":"Source (from which this Resource is derived)","dc:subject":"Keywords","dc:title":"Title","dc:type":"Resource Type","xmp:Advisory":"Externally Editied Properties","xmp:BaseURL":"Base URL for relative URL's","xmp:CreateDate":"Original Creation Date","xmp:CreatorTool":"Creator Tool","xmp:Identifier":"Identifier(s)","xmpidq:Scheme":"Identification Scheme","xap:Advisory":"Externally Editied Properties","xap:BaseURL":"Base URL for relative URL's","xap:CreateDate":"Original Creation Date","xap:CreatorTool":"Creator Tool","xap:Identifier":"Identifier(s)","xap:MetadataDate":"Metadata Last Modify Date","xap:ModifyDate":"Resource Last Modify Date","xap:Nickname":"Nickname","xap:Thumbnails":"Thumbnails","xapidq:Scheme":"Identification Scheme","xapRights:Certificate":"Certificate","xapRights:Copyright":"Copyright","xapRights:Marked":"Marked","xapRights:Owner":"Owner","xapRights:UsageTerms":"Legal Terms of Usage","xapRights:WebStatement":"Web Page describing rights statement (Owner URL)","xapMM:ContainedResources":"Contained Resources","xapMM:ContributorResources":"Contributor Resources","xapMM:DerivedFrom":"Derived From","xapMM:DocumentID":"Document ID","xapMM:History":"History","xapMM:LastURL":"Last Written URL","xapMM:ManagedFrom":"Managed From","xapMM:Manager":"Asset Management System","xapMM:ManageTo":"Manage To","xapMM:xmpMM:ManageUI":"Managed Resource URI","xapMM:ManagerVariant":"Particular Variant of Asset Management System","xapMM:RenditionClass":"Rendition Class","xapMM:RenditionParams":"Rendition Parameters","xapMM:RenditionOf":"Rendition Of","xapMM:SaveID":"Save ID","xapMM:VersionID":"Version ID","xapMM:Versions":"Versions","xapBJ:JobRef":"Job Reference","xmpTPg:MaxPageSize":"Largest Page Size","xmpTPg:NPages":"Number of pages","photoshop:AuthorsPosition":"Authors Position","photoshop:CaptionWriter":"Caption Writer","photoshop:Category":"Category","photoshop:City":"City","photoshop:Country":"Country","photoshop:Credit":"Credit","photoshop:DateCreated":"Creation Date","photoshop:Headline":"Headline","photoshop:History":"History","photoshop:Instructions":"Instructions","photoshop:Source":"Source","photoshop:State":"State","photoshop:SupplementalCategories":"Supplemental Categories","photoshop:TransmissionReference":"Technical (Transmission) Reference","photoshop:Urgency":"Urgency","tiff:ImageWidth":"Image Width","tiff:ImageLength":"Image Height","tiff:BitsPerSample":"Bits Per Sample","tiff:Compression":"Compression","tiff:PhotometricInterpretation":"Photometric Interpretation","tiff:Orientation":"Orientation","tiff:SamplesPerPixel":"Samples Per Pixel","tiff:PlanarConfiguration":"Planar Configuration","tiff:YCbCrSubSampling":"YCbCr Sub-Sampling","tiff:YCbCrPositioning":"YCbCr Positioning","tiff:XResolution":"X Resolution","tiff:YResolution":"Y Resolution","tiff:ResolutionUnit":"Resolution Unit","tiff:TransferFunction":"Transfer Function","tiff:WhitePoint":"White Point","tiff:PrimaryChromaticities":"Primary Chromaticities","tiff:YCbCrCoefficients":"YCbCr Coefficients","tiff:ReferenceBlackWhite":"Black & White Reference","tiff:DateTime":"Date & Time","tiff:ImageDescription":"Image Description","tiff:Make":"Make","tiff:Model":"Camera","tiff:Software":"Software","tiff:Artist":"Artist","tiff:Copyright":"Copyright","exif:ExifVersion":"Exif Version","exif:FlashpixVersion":"Flash pix Version","exif:ColorSpace":"Color Space","exif:ComponentsConfiguration":"Components Configuration","exif:CompressedBitsPerPixel":"Compressed Bits Per Pixel","exif:PixelXDimension":"Pixel X Dimension","exif:PixelYDimension":"Pixel Y Dimension","exif:MakerNote":"Maker Note","exif:UserComment":"User Comment","exif:RelatedSoundFile":"Related Sound File","exif:DateTimeOriginal":"Date & Time of Original","exif:DateTimeDigitized":"Taken On","exif:ExposureTime":"Shutter Speed","exif:FNumber":"Aperture","exif:ExposureProgram":"Exposure Program","exif:SpectralSensitivity":"Spectral Sensitivity","exif:ISOSpeedRatings":"ISO Speed","exif:OECF":"Opto-Electronic Conversion Function","exif:ShutterSpeedValue":"Shutter Speed Value","exif:ApertureValue":"Aperture Value","exif:BrightnessValue":"Brightness Value","exif:ExposureBiasValue":"Exposure Bias Value","exif:MaxApertureValue":"Max Aperture Value","exif:SubjectDistance":"Subject Distance","exif:MeteringMode":"Metering Mode","exif:LightSource":"Light Source","exif:Flash":"Flash","exif:FocalLength":"Focal Length","exif:SubjectArea":"Subject Area","exif:FlashEnergy":"Flash Energy","exif:SpatialFrequencyResponse":"Spatial Frequency Response","exif:FocalPlaneXResolution":"Focal Plane X Resolution","exif:FocalPlaneYResolution":"Focal Plane Y Resolution","exif:FocalPlaneResolutionUnit":"Focal Plane Resolution Unit","exif:SubjectLocation":"Subject Location","exif:SensingMethod":"Sensing Method","exif:FileSource":"File Source","exif:SceneType":"Scene Type","exif:CFAPattern":"Colour Filter Array Pattern","exif:CustomRendered":"Custom Rendered","exif:ExposureMode":"Exposure Mode","exif:WhiteBalance":"White Balance","exif:DigitalZoomRatio":"Digital Zoom Ratio","exif:FocalLengthIn35mmFilm":"Focal Length In 35mm Film","exif:SceneCaptureType":"Scene Capture Type","exif:GainControl":"Gain Control","exif:Contrast":"Contrast","exif:Saturation":"Saturation","exif:Sharpness":"Sharpness","exif:DeviceSettingDescription":"Device Setting Description","exif:SubjectDistanceRange":"Subject Distance Range","exif:ImageUniqueID":"Image Unique ID","exif:GPSVersionID":"GPS Version ID","exif:GPSLatitude":"GPS Latitude","exif:GPSLongitude":"GPS Longitude","exif:GPSAltitudeRef":"GPS Altitude Reference","exif:GPSAltitude":"GPS Altitude","exif:GPSTimeStamp":"GPS Time Stamp","exif:GPSSatellites":"GPS Satellites","exif:GPSStatus":"GPS Status","exif:GPSMeasureMode":"GPS Measure Mode","exif:GPSDOP":"GPS Degree Of Precision","exif:GPSSpeedRef":"GPS Speed Reference","exif:GPSSpeed":"GPS Speed","exif:GPSTrackRef":"GPS Track Reference","exif:GPSTrack":"GPS Track","exif:GPSImgDirectionRef":"GPS Image Direction Reference","exif:GPSImgDirection":"GPS Image Direction","exif:GPSMapDatum":"GPS Map Datum","exif:GPSDestLatitude":"GPS Destination Latitude","exif:GPSDestLongitude":"GPS Destination Longitude","exif:GPSDestBearingRef":"GPS Destination Bearing Reference","exif:GPSDestBearing":"GPS Destination Bearing","exif:GPSDestDistanceRef":"GPS Destination Distance Reference","exif:GPSDestDistance":"GPS Destination Distance","exif:GPSProcessingMethod":"GPS Processing Method","exif:GPSAreaInformation":"GPS Area Information","exif:GPSDifferential":"GPS Differential","exif:Fired":"Fired","exif:Return":"Return","exif:Mode":"Mode","exif:Function":"Function","exif:RedEyeMode":"Red Eye Mode","exif:Columns":"Columns","exif:Rows":"Rows","exif:Names":"Names","exif:Values":"Values","exif:Settings":"Settings","stDim:w":"Width","stDim:h":"Height","stDim:unit":"Units","xapGImg:height":"Height","xapGImg:width":"Width","xapGImg:format":"Format","xapGImg:image":"Image","stEvt:action":"Action","stEvt:instanceID":"Instance ID","stEvt:parameters":"Parameters","stEvt:softwareAgent":"Software Agent","stEvt:when":"When","stRef:instanceID":"Instance ID","stRef:documentID":"Document ID","stRef:versionID":"Version ID","stRef:renditionClass":"Rendition Class","stRef:renditionParams":"Rendition Parameters","stRef:manager":"Asset Management System","stRef:managerVariant":"Particular Variant of Asset Management System","stRef:manageTo":"Manage To","stRef:manageUI":"Managed Resource URI","stVer:comments":"","stVer:event":"","stVer:modifyDate":"","stVer:modifier":"","stVer:version":"","stJob:name":"Job Name","stJob:id":"Unique Job ID","stJob:url":"URL for External Job Management File"};t.a=a},function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(1),s=(n.n(r),n(0)),l=(n.n(s),n(2)),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),__=wp.i18n.__,p=function(e){function t(){a(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.settingsGroup=e.props.settingsGroup,e.persistSetting=l.d.bind(e),e.saveSettings=l.f.bind(e),e.getSetting=l.c.bind(e),e.setSetting=l.h.bind(e),e.deleteSetting=l.a.bind(e),e.getError=l.b.bind(e),e.setError=l.g.bind(e),e.state={isAPILoaded:!1,isAPISaving:!1,errors:{},settings:{enable:!0,showThumbnails:!0,showCaptions:!0,detail_position:"bottom",thumbnailHeight:120,showTitleInCaption:!1,showDescriptionInCaption:!1,showAttachmentLink:!1,attachmentLinkText:"Read Me..."},dirtyFields:[]},e.state.settings=c({},e.state.settings,e.props.data),e.settingsSchema={attachmentLinkText:{type:"string",validations:[{type:"notEmpty",errorSection:"slideshow",errorMsg:"Cannot be empty."}]}},e}return o(t,e),m(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=[],n=function(){return wp.element.createElement(s.BaseControl,{label:__(""),help:"",id:"'slideshow_enable'",className:""},e.getError("slideshow")&&wp.element.createElement(s.Notice,{status:"error"},wp.element.createElement("p",null,"An error occurred: ",wp.element.createElement("code",null,e.getError("slideshow")))),wp.element.createElement(s.ToggleControl,{id:"slideshow_enable",label:__("Enable Slideshows"),help:"Display image slideshow when gallery images are clicked.",checked:e.getSetting("enable")||!1,onChange:function(t){return e.persistSetting("enable",t)}}),wp.element.createElement("hr",null),wp.element.createElement(s.ToggleControl,{id:"showThumbnails",label:__("Show Thumbnails"),help:"Display image thumbnails along bottom of slideshow lightbox.",checked:e.getSetting("showThumbnails")||!1,onChange:function(t){return e.persistSetting("showThumbnails",t)}}),wp.element.createElement("hr",null),wp.element.createElement(s.RangeControl,{label:__("Thumbnail Height"),value:e.getSetting("thumbnailHeight"),onChange:function(t){return e.persistSetting("thumbnailHeight",t)},min:75,max:200,step:10}),wp.element.createElement("hr",null),wp.element.createElement(s.ToggleControl,{id:"showCaptions",label:__("Show Caption Info"),help:"Display image thumbnails along bottom of slideshow lightbox.",checked:e.getSetting("showCaptions")||!1,onChange:function(t){return e.persistSetting("showCaptions",t)}}),wp.element.createElement(s.SelectControl,{label:__("Caption Info Box Position"),value:e.getSetting("detail_position"),onChange:function(t){return e.persistSetting("detail_position",t)},options:[{value:"bottom",label:__("Bottom of image")},{value:"right",label:__("Right of image")}],help:"Controls where the caption/info box is displayed."}),wp.element.createElement(s.CheckboxControl,{heading:"",label:"Display image title in caption info",help:"",checked:e.getSetting("showTitleInCaption"),onChange:function(t){return e.persistSetting("showTitleInCaption",t)}}),wp.element.createElement(s.CheckboxControl,{heading:"",label:"Display image description in caption info",help:"",checked:e.getSetting("showDescriptionInCaption"),onChange:function(t){return e.persistSetting("showDescriptionInCaption",t)}}),wp.element.createElement(s.CheckboxControl,{heading:"",label:"Display link to attachment page",help:"",checked:e.getSetting("showAttachmentLink"),onChange:function(t){return e.persistSetting("showAttachmentLink",t)}}),wp.element.createElement(s.TextControl,{id:"attachment_link_text",label:__("Attachment Link Text"),value:e.getSetting("attachmentLinkText"),className:" right-pad",help:"The text to display in the attachment link.",onChange:function(t){return e.setSetting("attachmentLinkText",t)},onBlur:function(t){return e.setSetting("attachmentLinkText",Object(l.e)(t.target.value,"string"))}}),wp.element.createElement(s.Button,{isPrimary:!0,disabled:e.state.isAPISaving,onClick:e.saveSettings,className:"components-base-control__field"},__("Save")))};return t.push(n),wp.element.createElement(s.PanelBody,{title:__("Slideshows")},t.map(function(e,t){var n=e();return wp.element.createElement(s.PanelRow,{key:"component-"+t},n)}))}}]),t}(r.Component);t.a=p}]);